<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		 xmlns:layout="http://www.ultraq,net.nz/thymeleaf/layout"
		 layout:decorate="~{layout/layout}"
>
<head>
<meta charset="UTF-8">
<title>ユーザー一覧</title>
</head>
<body>
<div layout:fragment="content">
	<h1>ユーザー一覧</h1>


	<table>
		<tr>
			<th>ID</th>
			<th>名前</th>
			<th>権限</th>
		</tr>
		
		<th:block th:each="user:${users}">
			<tr>
				<td th:text="${user.id}">ID</td>
				<td th:text="${user.username}">ユーザー名</td>
				<td th:text="${user.authority}">権限</td>
				<td>
				<!--<a th:href="@{/admin/delete_user/{username}(username=${user.username})}">削除</a> -->
				<form th:action="@{/admin/delete_user}" method="post">
					<input type="hidden" name="username" th:value="${user.username}">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
					<input type="submit" value="削除">
				</form>
			   </td>
			</tr>
		</th:block>
	</table>
		
</div>

</body>
</html>